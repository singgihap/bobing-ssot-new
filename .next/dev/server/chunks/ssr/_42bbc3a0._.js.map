{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bobing%20Corp/Desktop/bobing-ssot-new/lib/utils.js"],"sourcesContent":["// lib/utils.js\r\nexport const formatRupiah = (n) => {\r\n  return new Intl.NumberFormat('id-ID', {\r\n    style: 'currency',\r\n    currency: 'IDR',\r\n    minimumFractionDigits: 0\r\n  }).format(n);\r\n};\r\n\r\nexport const sizeRank = ['ALL','ALL SIZE','ALLSIZE','XXXS','XXS','XS','S','M','L','XL','XXL','2XL','3XL','XXXL','4XL','5XL'];\r\n\r\nexport const sortBySize = (variantA, variantB) => {\r\n  const sizeA = (variantA.size || '').toUpperCase().trim();\r\n  const sizeB = (variantB.size || '').toUpperCase().trim();\r\n  const idxA = sizeRank.indexOf(sizeA);\r\n  const idxB = sizeRank.indexOf(sizeB);\r\n  \r\n  if (idxA !== -1 && idxB !== -1) return idxA - idxB;\r\n  if (idxA !== -1) return -1; \r\n  if (idxB !== -1) return 1;\r\n  \r\n  const colorCompare = (variantA.color || '').localeCompare(variantB.color || '');\r\n  if (colorCompare !== 0) return colorCompare;\r\n  \r\n  return (variantA.sku || '').localeCompare(variantB.sku || '');\r\n};"],"names":[],"mappings":"AAAA,eAAe;;;;;;;;;AACR,MAAM,eAAe,CAAC;IAC3B,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,MAAM,WAAW;IAAC;IAAM;IAAW;IAAU;IAAO;IAAM;IAAK;IAAI;IAAI;IAAI;IAAK;IAAM;IAAM;IAAM;IAAO;IAAM;CAAM;AAErH,MAAM,aAAa,CAAC,UAAU;IACnC,MAAM,QAAQ,CAAC,SAAS,IAAI,IAAI,EAAE,EAAE,WAAW,GAAG,IAAI;IACtD,MAAM,QAAQ,CAAC,SAAS,IAAI,IAAI,EAAE,EAAE,WAAW,GAAG,IAAI;IACtD,MAAM,OAAO,SAAS,OAAO,CAAC;IAC9B,MAAM,OAAO,SAAS,OAAO,CAAC;IAE9B,IAAI,SAAS,CAAC,KAAK,SAAS,CAAC,GAAG,OAAO,OAAO;IAC9C,IAAI,SAAS,CAAC,GAAG,OAAO,CAAC;IACzB,IAAI,SAAS,CAAC,GAAG,OAAO;IAExB,MAAM,eAAe,CAAC,SAAS,KAAK,IAAI,EAAE,EAAE,aAAa,CAAC,SAAS,KAAK,IAAI;IAC5E,IAAI,iBAAiB,GAAG,OAAO;IAE/B,OAAO,CAAC,SAAS,GAAG,IAAI,EAAE,EAAE,aAAa,CAAC,SAAS,GAAG,IAAI;AAC5D"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Bobing%20Corp/Desktop/bobing-ssot-new/app/finance-balance/page.js"],"sourcesContent":["// app/finance-balance/page.js\r\n\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { db } from '@/lib/firebase';\r\nimport { collection, getDocs, query, where } from 'firebase/firestore';\r\nimport { formatRupiah } from '@/lib/utils';\r\n\r\nexport default function BalanceSheetPage() {\r\n    const [assets, setAssets] = useState({ cash: 0, inventory: 0, receivable: 0, listCash: [] });\r\n    const [liabilities, setLiabilities] = useState({ payable: 0 });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => { calculate(); }, []);\r\n\r\n    const calculate = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const snapCash = await getDocs(collection(db, \"cash_accounts\"));\r\n            let totalCash = 0; const listCash = [];\r\n            snapCash.forEach(doc => { const d = doc.data(); totalCash += (d.balance || 0); listCash.push({ name: d.name, val: d.balance || 0 }); });\r\n\r\n            const [snapSnap, snapVar] = await Promise.all([getDocs(collection(db, \"stock_snapshots\")), getDocs(collection(db, \"product_variants\"))]);\r\n            const costMap = {}; snapVar.forEach(d => costMap[d.id] = d.data().cost || 0);\r\n            let totalInv = 0; snapSnap.forEach(doc => { const d = doc.data(); if(d.qty > 0) totalInv += (d.qty * (costMap[d.variant_id] || 0)); });\r\n\r\n            const snapPiutang = await getDocs(query(collection(db, \"sales_orders\"), where(\"payment_status\", \"==\", \"unpaid\")));\r\n            let totalPiutang = 0; snapPiutang.forEach(d => totalPiutang += (d.data().net_amount || 0));\r\n\r\n            const snapHutang = await getDocs(query(collection(db, \"purchase_orders\"), where(\"payment_status\", \"==\", \"unpaid\")));\r\n            let totalHutang = 0; snapHutang.forEach(d => totalHutang += (d.data().total_amount || 0));\r\n\r\n            setAssets({ cash: totalCash, inventory: totalInv, receivable: totalPiutang, listCash });\r\n            setLiabilities({ payable: totalHutang });\r\n        } catch(e) { console.error(e); } finally { setLoading(false); }\r\n    };\r\n\r\n    const totalAssets = assets.cash + assets.inventory + assets.receivable;\r\n    const equity = totalAssets - liabilities.payable;\r\n\r\n    return (\r\n        <div className=\"max-w-6xl mx-auto space-y-8 fade-in pb-20\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h2 className=\"text-2xl font-display font-bold text-lumina-text tracking-tight\">Balance Sheet</h2>\r\n                    <p className=\"text-sm text-lumina-muted mt-1 font-light\">Real-time financial position snapshot.</p>\r\n                </div>\r\n                <button onClick={calculate} className=\"btn-ghost-dark text-xs\">Refresh Data</button>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {/* ASSETS */}\r\n                <div className=\"card-luxury overflow-hidden\">\r\n                    <div className=\"px-6 py-4 border-b border-emerald-900/30 bg-emerald-900/10\">\r\n                        <h3 className=\"font-bold text-emerald-400 uppercase tracking-wider text-xs\">Assets (Harta)</h3>\r\n                    </div>\r\n                    <div className=\"p-6 space-y-6\">\r\n                        <div>\r\n                            <p className=\"text-xs font-bold text-lumina-muted uppercase mb-2 tracking-wide\">Cash & Bank</p>\r\n                            <div className=\"space-y-2 pl-3 border-l-2 border-lumina-border\">\r\n                                {assets.listCash.map((c, i) => (\r\n                                    <div key={i} className=\"flex justify-between text-sm\">\r\n                                        <span className=\"text-lumina-text opacity-80\">{c.name}</span>\r\n                                        <span className=\"font-mono font-medium text-lumina-text\">{formatRupiah(c.val)}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"flex justify-between items-center mt-3 pt-3 border-t border-dashed border-lumina-border font-bold text-lumina-text\">\r\n                                <span>Total Cash</span><span className=\"text-emerald-400\">{formatRupiah(assets.cash)}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"text-xs font-bold text-lumina-muted uppercase mb-2 tracking-wide\">Inventory</p>\r\n                            <div className=\"flex justify-between items-center pl-3 border-l-2 border-blue-500/30\">\r\n                                <span className=\"text-sm text-lumina-text opacity-80\">Stock Value (At Cost)</span>\r\n                                <span className=\"font-bold text-blue-400 font-mono\">{formatRupiah(assets.inventory)}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"text-xs font-bold text-lumina-muted uppercase mb-2 tracking-wide\">Receivables</p>\r\n                            <div className=\"flex justify-between items-center pl-3 border-l-2 border-amber-500/30\">\r\n                                <span className=\"text-sm text-lumina-text opacity-80\">Unpaid Sales</span>\r\n                                <span className=\"font-bold text-amber-400 font-mono\">{formatRupiah(assets.receivable)}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"px-6 py-4 bg-lumina-surface border-t border-lumina-border flex justify-between items-center\">\r\n                        <span className=\"font-bold text-lumina-text\">TOTAL ASSETS</span>\r\n                        <span className=\"font-extrabold text-emerald-500 text-xl font-mono\">{formatRupiah(totalAssets)}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-6\">\r\n                    {/* LIABILITIES */}\r\n                    <div className=\"card-luxury overflow-hidden\">\r\n                        <div className=\"px-6 py-4 border-b border-rose-900/30 bg-rose-900/10\">\r\n                            <h3 className=\"font-bold text-rose-400 uppercase tracking-wider text-xs\">Liabilities (Hutang)</h3>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            <div className=\"flex justify-between items-center pl-3 border-l-2 border-rose-500/30\">\r\n                                <span className=\"text-sm text-lumina-text opacity-80\">Accounts Payable (PO)</span>\r\n                                <span className=\"font-bold text-rose-400 font-mono\">{formatRupiah(liabilities.payable)}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"px-6 py-4 bg-lumina-surface border-t border-lumina-border flex justify-between items-center\">\r\n                            <span className=\"font-bold text-lumina-text\">TOTAL LIABILITIES</span>\r\n                            <span className=\"font-bold text-rose-500 text-lg font-mono\">{formatRupiah(liabilities.payable)}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* EQUITY */}\r\n                    <div className=\"card-luxury p-6 bg-gradient-to-br from-lumina-surface to-lumina-highlight text-center relative overflow-hidden border-none shadow-2xl\">\r\n                        <div className=\"relative z-10\">\r\n                            <p className=\"text-xs text-lumina-muted uppercase tracking-widest mb-2 font-bold\">Owners Equity</p>\r\n                            <h3 className={`text-3xl font-display font-extrabold tracking-tight ${equity >= 0 ? 'text-white' : 'text-rose-400'}`}>\r\n                                {formatRupiah(equity)}\r\n                            </h3>\r\n                            <p className=\"text-[10px] text-lumina-muted mt-2 opacity-70\">Assets - Liabilities</p>\r\n                        </div>\r\n                        {/* Decoration */}\r\n                        <div className=\"absolute top-0 right-0 w-32 h-32 bg-lumina-gold/10 rounded-full blur-3xl\"></div>\r\n                        <div className=\"absolute bottom-0 left-0 w-24 h-24 bg-indigo-500/10 rounded-full blur-2xl\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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"}}]
}